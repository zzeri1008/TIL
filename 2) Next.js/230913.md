[생활코딩 - Next.js 13](https://www.youtube.com/playlist?list=PLuHgQVnccGMCwxXsQuEoG-JJ7RlwtNdwJ) 9,10Chapter를 참고한 내용입니다. <br>

---

1️⃣ JSON Server로 간단한 백엔드 서버를 구축해보자
- `npx json-server --port 9999 --watch db.json`
- 이 명령어를 실행하면 포트 번호 9999로 설정된 서버가 생성되며, 데이터는 db.json 파일에 저장된다.
- `--watch` 옵션을 사용하면 db.json 데이터 변경 시 실시간으로 반영된다.
- 서버 실행 후 로그에 API 목록이 표시된다. (Resources 목록)
- 새로운 API를 추가 또는 수정하려면 db.json 파일을 수정하면 된다.
```json
  "topics": [
    {"id": 1, "title": "html", "body": "html is ..."},
    {"id": 2, "title": "css", "body": "css is ..."}
  ]
```

2️⃣ Next.js에서 서버 컴포넌트와 클라이언트 컴포넌트의 차이 <br> <br>
<img style="width:600px;" src="https://github.com/zzeri1008/TIL/assets/142401247/578296c7-b834-4c89-a8b1-9bef376e857d" >
- Next.js는 서버 컴포넌트와 클라이언트 컴포넌트로 구분되어 있다. 이러한 개념은 React 18 버전 이후에 추가된 것이며, Next.js에서도 이 개념을 도입하여 사용하고 있다.
- 서버 컴포넌트는 서버에서 정보를 표시하고 사용자와 상호 작용하지 않을 때 사용한다.
- 클라이언트 컴포넌트는 사용자와 상호 작용할 때 사용한다.
- 서버 컴포넌트와 클라이언트 컴포넌트에서 사용 가능한 API가 다르며, 추가적인 설정을 해주지 않으면 기본적으로 서버 컴포넌트로 인식한다.

3️⃣ 클라이언트 컴포넌트로 글 목록 가져오기
- useEffect와 useState를 사용하여 서버에서 데이터를 가져온다.
- 앞서 말했듯이 Next.js는 기본적으로 서버 컴포넌트로 인식하기 때문에 "use client"를 선언하여 클라이언트 컴포넌트로 바꿔준다.
- 클라이언트 컴포넌트를 사용할 경우 자바스크립트가 없거나 동작하지 않는 환경에서는 문제가 발생할 수 있다.

4️⃣ 서버 컴포넌트로 글 목록 가져오기
- 함수를 비동기로 변경하여 서버 컴포넌트로 글 목록을 가져오자 (async, await 사용)
- 서버 컴포넌트는 서버에서 데이터가 온전히 가져온 후에 만들어진 최종 결과물을 클라이언트로 전송한다. (async, await을 사용하여 비동기로 데이터를 가져오기 때문)
- 클라이언트에 전송되는 내용에는 자바스크립트 코드가 제외되므로 용량이 감소하고 자바스크립트가 없거나 동작하지 환경에서도 정상적으로 작동한다. (.next에 저장되어 있음)

---